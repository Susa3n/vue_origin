{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/observer/Array.js","../src/observer/dep.js","../src/observer/index.js","../src/next-tick.js","../src/observer/scheduler.js","../src/observer/watcher.js","../src/state.js","../src/compiler/parseHtml.js","../src/compiler/generate.js","../src/compiler/index.js","../src/vdom/patch.js","../src/lifecycle.js","../src/init.js","../src/vdom/create-vdom.js","../src/render.js","../src/index.js"],"sourcesContent":["export function isFunction(value) {\r\n  return typeof value === 'function'\r\n}\r\nexport function isObject(value) {\r\n  return typeof value === 'object' && value != null\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","let oldMethods = Array.prototype\r\nexport let arrayMethods = Object.create(oldMethods) // 旧数组的原型方法\r\nlet methods = [\r\n  'push',\r\n  'shift',\r\n  'unshift',\r\n  'splice',\r\n  'pop',\r\n  'sort',\r\n  'reverse'\r\n]\r\n\r\nmethods.forEach(method => {\r\n  arrayMethods[method] = function (...args) { // args 是参数列表\r\n  // 这里的this指的是谁调的   比如data: {a:[1,2,3]}  vm.a.push(4) 此时[1,2,3]就为当前的this\r\n    oldMethods[method].call(this, ...args) // 执行旧数组上的方法\r\n    let inserted;\r\n    let ob = this.__ob__ // 在对数组外层观测时 将当前实例挂载的this挂载到__ob__属性\r\n    switch (method) { // 判断如果是push  shift splice 方法  对于新增的属性进行数据劫持 args为新增的数据\r\n      case 'push':\r\n      case 'shift':\r\n        inserted = args \r\n        break;\r\n      case 'splice': // splice的第二个参数以后都为新增的数据\r\n        inserted = args.slice(2)\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (inserted) ob.observerArray(inserted) // 通过observerArray递归进行数据劫持\r\n    ob.dep.notify() //如果数据发生变化  通过dep通知对应的watcher进行关联\r\n  }\r\n})","let id = 0\r\nexport class Dep {\r\n  constructor() {\r\n    this.id = id++\r\n    this.sub = []\r\n  }\r\n\r\n  append() {\r\n    Dep.target.append(this) // dep添加watcher\r\n  }\r\n  addSub(watcher) { // 反之 watcher添加dep\r\n    this.sub.push(watcher)\r\n  }\r\n  notify() {\r\n    this.sub.forEach(watcher => watcher.update()) // 将当前dep中收集到的watcher进行更新\r\n  }\r\n\r\n}\r\nDep.target = null\r\nlet stack = []\r\n// 第一次进来的是渲染watcher  第二次是计算属性watcher \r\n// 计算属性依赖的数据 收集的只有计算属性watcher，渲染watcher没有收集，比如fullName () {return this.firstName + this.lastName}\r\n// 此时 this.firstName 和 this.lastName收集的watcher只有计算属性watcher\r\n// 通过栈的形式将先保存渲染watcher 之后保存计算属性watcher\r\nexport function pushTarget(watcher) {\r\n  stack.push(watcher) \r\n  Dep.target = watcher \r\n}\r\n// 当计算属性取过值之后 调用popTarget ，Dep.target = 渲染watcher\r\n// 在计算属性evaluate之后通过对应的计算属性watcher，拿到对应的deps\r\n// 遍历deps,也就是this.firstName 和 this.lastName的绑定的dep，通过dep再去收集渲染watcher\r\n// 这样就达到目的，一个dep收集多个watcher\r\nexport function popTarget() {\r\n  stack.pop()\r\n  Dep.target = stack[stack.length - 1]\r\n}","\r\nimport { isObject } from \"../utils\";\r\nimport { arrayMethods } from './Array'\r\nimport { Dep } from './dep'\r\n\r\n// 如果数据是对象 会对对象递归 进行数据劫持\r\n// 如果是数组 会劫持数组的方法 并对数组上不是基本数据类型的数据进行数据劫持\r\n\r\nclass Observer {\r\n  constructor(data) {\r\n    // 给要劫持的数据上添加__ob__属性，指定为当前this（两个作用）\r\n    // 一： observe劫持数据时可以通过是否有__ob__属性来判断是否已经劫持过 劫持过直接return\r\n    // 二：调用数组的方法（push、shift、splice...）对于新增的数据，可以通过this.__ob__.observerArray递归劫持\r\n    // data.__ob__ = this   如果直接放到data的属性上，当walk(data)时会遍历__ob__上的属性，导致递归爆栈\r\n    // 解决方法： 通过 Object.defineProperty 设置不可枚举\r\n    this.dep = new Dep()\r\n    Object.defineProperty(data, '__ob__', {\r\n      value: this,\r\n      enumerable: false // 不可枚举\r\n    })\r\n    if (Array.isArray(data)) { // 处理数组格式\r\n      // 对数组劫持的逻辑\r\n      data.__proto__ = arrayMethods  // 对数组原来的方法进行重改\r\n      this.observerArray(data) // 对数据中的数据 进行递归劫持\r\n    } else { //处理对象格式\r\n      this.walk(data) // 对对象中所有的属性进行数据劫持\r\n    }\r\n  }\r\n  observerArray(data) {\r\n    for (let i = 0; i < data.length; i++) { // 遍历数组中的每一项 劫持数据\r\n      observe(data[i])\r\n    }\r\n  }\r\n\r\n  walk(data) {\r\n    Object.keys(data).forEach(key => { // 遍历data拿到所有的key\r\n      defineReactive(data, key, data[key])\r\n    })\r\n  }\r\n\r\n\r\n}\r\n\r\nfunction observeArray(value) {\r\n  if(Array.isArray(value)){ // 是数组类型 进行遍历\r\n    value.forEach(currentValue => {\r\n      let ob = observe(currentValue) // 拿去下一层的dep实例 如果有进行下一层关联\r\n      if(ob){\r\n        ob.dep.append()\r\n      } \r\n      observeArray(currentValue) // 递归关联\r\n    })\r\n  }\r\n}\r\n\r\nfunction defineReactive(data, key, value) { // 将数据定义为响应式\r\n  let dep = new Dep() // 数据劫持时给数据绑定对应的dep\r\n  let childOb = observe(value) // value可能还是对象  递归进行劫持,value是数组或value时，为了将value的dep的和视图watcher进行关联，此时childOb是数组或对象的dep实例\r\n  Object.defineProperty(data, key, {\r\n    get() { // 在watcher中读取对应数据 会判断Dep.target是否是watcher\r\n      if(Dep.target) { // 如果是\r\n        dep.append() // 将当前dep（也就是当前数据）进行关联\r\n        if(childOb) { // 如果有值 数组去关联视图watcher\r\n          childOb.dep.append()\r\n          observeArray(value) // 递归将下一层的数据进行关联watcher  [[[1,2,3]]]\r\n        }\r\n      }\r\n      return value\r\n    },\r\n    set(newValue) {\r\n      // 如果set的newValue是一个对象 也要对对象进行劫持\r\n      if(newValue !=  value) {\r\n        observe(newValue)\r\n        value = newValue\r\n        dep.notify() // 通知对应观察者执行操作\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport function observe(data) { // 观测数据\r\n  // 判断用户返回的data是否是对象 如果不是直接返回\r\n  if (!isObject(data)) {\r\n    return\r\n  }\r\n\r\n  if (data.__ob__) {\r\n    return data.__ob__\r\n  }\r\n\r\n  // data最外层默认是对象\r\n  return new Observer(data) // 返回一个实例\r\n}\r\n\r\n\r\n/**\r\n * data(){\r\n *  return {\r\n *      person: [{name:'susa3n'}]\r\n *    }\r\n * }\r\n * 完整的初始化流程：\r\n *  observe最开始观测data时，最外层是对象形式，遍历所有的key，进行数据劫持，\r\n * 将当前实例挂载到数组上__ob__ = this，当发现第二层值为数组时，调用observerArray方法，传入当前值，遍历数组进行递归劫持。\r\n * vm.person.push({name:'lisi'}) 执行旧数组原型上的方法 对新增的数据 通过__ob__.observerArray(args)\r\n *\r\n */","\r\nlet callbacks = []\r\nlet waiting = false \r\n\r\nfunction flushCallbacks() {\r\n  callbacks.forEach(cb => cb())\r\n  waiting = false\r\n  callbacks = []\r\n}\r\n\r\nfunction timerFn() {\r\n  let timer = null\r\n  if(Promise) { // \r\n    timer = () => {\r\n      Promise.resolve().then(() => {\r\n        flushCallbacks()\r\n      })\r\n    }\r\n  }else if(MutationObserver) {\r\n    let textNode = document.createTextNode(1)\r\n    let observe = new MutationObserver(flushCallbacks)\r\n    observe.observe(textNode,{\r\n      characterData: true\r\n    })\r\n    timer = () => {\r\n      textNode.textContent = 3\r\n    }\r\n  }else {\r\n    timer = setTimeout(flushCallbacks);\r\n  }\r\n  timer()\r\n}\r\n\r\nexport function nextTick(cb) { // 接收一个回调函数\r\n  callbacks.push(cb) // push到callbacks中\r\n  if(!waiting){ // 异步执行一次 \r\n    timerFn()\r\n    waiting = true\r\n  }\r\n}\r\n","import { nextTick } from '../next-tick'\r\nlet queue = []\r\nlet has = {}\r\nlet pending = false\r\n\r\n\r\nfunction flushSchedulerQueue() {\r\n  queue.forEach(watcher => { // 从queue遍历所有的watcher 进行更新\r\n    watcher.run()\r\n    queue = []; // 让下一次可以继续使用 清空数据\r\n    has = {};\r\n    pending = false\r\n  })\r\n}\r\n\r\nexport function queueWatcher(watcher) {\r\n  let id = watcher.id // 拿取watcher的id\r\n  if (has[id] == null) { // 判断当前watcher是否在has对象中\r\n    queue.push(watcher) // 将当前watcher push 到对列中\r\n    has[id] = true // has中保存watcher的id置为true\r\n    if (!pending) { // 默认false 之后置为true 只让更新操作改为异步的，执行nexttick\r\n      // setTimeout(flushSchedulerQueue,0);\r\n      nextTick(flushSchedulerQueue)  // 执行异步更新视图的方法\r\n      pending = true\r\n    }\r\n\r\n  }\r\n}","import { pushTarget, popTarget } from \"./dep\"\r\nimport { queueWatcher } from './scheduler'\r\nlet id = 0\r\nexport class Watcher {\r\n  /**\r\n   *  Watcher是一个类，生成一个观察者\r\n   * @param {*} vm 被观测的对象或者数据\r\n   * @param {*} exprOrFn  被观测的对象发生变化执行对应操作（渲染watcher是函数，在computed或者watch中是表达式）\r\n   * @param {*} cb 执行完对应操作后的回调函数\r\n   * @param {*} options 配置对象\r\n   */\r\n  constructor(vm, exprOrFn, cb, options) {\r\n    // 将传入的参数保存到实例本身\r\n    this.vm = vm\r\n    this.cb = cb // 保存回调函数\r\n    this.options = options\r\n    this.user = options.user // 用户watch\r\n    this.lazy = !!options.lazy // 计算属性watch 初次不加载\r\n    this.dirty = options.lazy // 计算属性watch 默认是脏的 \r\n    if (typeof exprOrFn == 'string') { // 如果是用户watch exprOrFn是一个表达式 'name' 'person.nam'\r\n      this.getter = function () {  // getter为一个函数，通过表达式的取值 将watcher 和 表达式的dep进行关联\r\n        let obj = vm\r\n        exprOrFn.split('.').forEach(i => {\r\n          obj = obj[i]\r\n        })\r\n        return obj\r\n      }\r\n    } else {\r\n      this.getter = exprOrFn // 挂载到实例的getter属性上，当被观测的数据发生变化 执行this.get\r\n    }\r\n    this.id = id++\r\n    this.deps = []\r\n    this.depIds = new Set()\r\n    this.value = this.lazy ? undefined : this.get() // 默认第一次执行 拿到watcher的值 保存到实例上，以便用户watcher发生变化执行callback传入对应新值和旧值\r\n  }\r\n\r\n  get() { // 利用JS的单线程\r\n    pushTarget(this) // 开始：将watcher（页面）和dep（数据） 进行关联起来\r\n    let value = this.getter.call(this.vm) // 读取对应数据 \r\n    popTarget()\r\n    return value\r\n  }\r\n\r\n\r\n\r\n  append(dep) { // 接收dep\r\n    if (!this.depIds.has(dep.id)) {  // 判断当前watcher中depIds中是否有当前dep\r\n      this.depIds.add(dep.id) // 将接收的dep的id set到当前watcher实例depIds\r\n      this.deps.push(dep) // 将dep保存到watcher的deps中\r\n      dep.addSub(this) // 反之将watcher关联到dep中\r\n    }\r\n  }\r\n\r\n  update() { // 当前观察者执行对应操作\r\n    // this.get()\r\n    // 如果数据改变通知对应watcher进行update，当多次更改数据时，会导致多次渲染页面，可以将渲染界面改为异步\r\n    // 通过queueWatcher收集watcher，之后进行异步更新\r\n    if(this.lazy) { // 如果当前watcher是计算属性watcher dirty为true是脏的\r\n      this.dirty = true\r\n    }else {\r\n      queueWatcher(this)\r\n    }\r\n  }\r\n\r\n  run() {\r\n    let oldValue = this.value // 当监听的值发生变化保存旧值在当前作用域\r\n    let newValue = this.value = this.get() // 保存新值到实例上 用于下次更新\r\n    if (this.user) {\r\n      this.cb.call(this.vm, newValue, oldValue) // 如果是用户watcher 执行回调函数 传入参数\r\n    }\r\n  }\r\n  evaluate() {\r\n      this.value = this.get() // 调用计算属性的getter函数\r\n      this.dirty = false // 脏值变为不脏的  \r\n      return this.value // 返回计算属性的值\r\n  }\r\n\r\n  depend() {\r\n    let i = this.deps.length // 拿去当前计算属性上的dep，拿到每个dep关联渲染watcher\r\n    while(i--) {\r\n      this.deps[i].append()\r\n    }\r\n  }\r\n\r\n}\r\n\r\n// watcher 和 dep\r\n// 我们将更新界面的功能封装了一个渲染watcher\r\n// 渲染页面前，会将watcher放到Dep的类上  Dep.target = watcher\r\n// 在vue中页面渲染时使用属性，需要进行依赖收集，收集对象的渲染watcher\r\n  // 取值时给每个属性都加了一个dep实例，用于存储渲染watcher（同一个watcher可能存有多个dep）\r\n  // 每个属性可能对应多个视图（多个视图就对应多个watcher） 一个属性对应多个watcher\r\n// dep.depend() => 通知dep存放watcher  Dep.target.addDep () => 通知watcher存放dep","import { isFunction } from \"./utils\" // 引入工具函数判断当前值是否是函数类型\r\nimport { observe } from \"./observer/index\"\r\nimport { Watcher } from \"./observer/watcher\"\r\nimport { Dep } from \"./observer/dep\"\r\nexport function initState(vm) {\r\n  const opts = vm.$options \r\n  if(opts.data) { // 如果选项中有data\r\n    initData(vm) // 对data进行初始化\r\n  }\r\n  if(opts.computed){\r\n    initComputed(vm,opts.computed)\r\n  }\r\n  if(opts.watch){\r\n    initWatch(vm,opts.watch)\r\n  }\r\n}\r\n\r\nfunction initData(vm) { // 初始化data方法\r\n  let data = vm.$options.data // vm中$符号开头的属性不会被代理\r\n  // vue2中会将所有层次的数据进行数据劫持 通过Object.defineProperty\r\n\r\n  // call的原因 data中所有数据的this都指向当前实例 vm\r\n  data = vm._data = isFunction(data) ? data.call(vm) : data \r\n  for (const key in data) { // 通过proxy代理将data上的数据定义vm上，当读取属性时还是走的observe\r\n    proxy(vm,'_data',key)\r\n  }\r\n  // 观测数据 将数据变为响应式的\r\n  observe(data)\r\n}\r\n\r\nfunction initComputed(vm,computed) {\r\n  let watchers = vm._computedWatchers = {} // 保存一份计算属性的watchers到vm实例上，以便可以通过key和vm找到对应的计算属性watcher\r\n  for (const key in computed) { // 遍历计算属性\r\n    let userDef = computed[key] \r\n    let getter = typeof userDef === 'function' ? userDef : userDef.get // 判断单个计算属性是函数或者是对象，拿到定义的函数\r\n    watchers[key] = new Watcher(vm,getter,()=> {},{lazy:true}) // 生成计算属性watcher 传入vm  getter 配置对象默认lazy为true 初次不渲染 \r\n    deReactiveComputed(vm,key,userDef) // 将computed属性的key通过Object.defineProperty定义到vm\r\n  }\r\n}\r\n\r\nfunction createComputedGetter(key) {\r\n  return function () {\r\n    let computedWatcher = this._computedWatchers[key] // 通过vm和key拿到对应的watcher\r\n    if(computedWatcher.dirty) { // 判断当前watcher是否是脏值 dirty:true\r\n      computedWatcher.evaluate()  // 取值\r\n    }\r\n    if(Dep.target) { // 取值之后 渲染watcher继续收集计算属性watcher上的dep\r\n      computedWatcher.depend()\r\n    }\r\n    return computedWatcher.value // 将值返回\r\n  }\r\n}   \r\n\r\nfunction deReactiveComputed(vm,key,userDef) { // 定义计算属性的key响应式\r\n  let shareComputedFn = {}\r\n  shareComputedFn.get = createComputedGetter(key), // 如果userDef是对象，通过key去找到对应的watcher,再通过watcher调用getter\r\n  shareComputedFn.set = userDef.set\r\n  Object.defineProperty(vm,key,shareComputedFn)\r\n}\r\n\r\n\r\nfunction initWatch(vm,watch) { // 初始化watch方法\r\n  for (const key in watch) { // 遍历watch\r\n    let handler = watch[key]\r\n    if(Array.isArray(handler)) { // 判断value的类型，如果是数组类型 需要创建多个用户watch\r\n      handler.forEach(handlerFn => {\r\n        createWatch(vm,key,handlerFn)\r\n      })\r\n    }else {\r\n      if(typeof handler === 'object') { // 如果是对象类型 取出handler函数，收集配置对象，创建用户watch\r\n        createWatch(vm,key,handler.handler,handler)\r\n      }else {\r\n        createWatch(vm,key,handler) // 如果是函数 直接创建用户watchr\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction createWatch(vm,key,handler,options = {}) {\r\n  \r\n  return vm.$watch(key,handler,options) // 通过$watch进行中转\r\n}\r\n\r\n\r\n// 数据代理\r\nfunction proxy(vm,source,key) {\r\n  Object.defineProperty(vm,key,{\r\n    get() {\r\n      return vm[source][key]\r\n    },\r\n    set(newValue) {\r\n      vm[source][key] = newValue\r\n    }\r\n  })\r\n}\r\n\r\nexport function stateMixin(Vue) {\r\n  Vue.prototype.$watch = function (key,handler,options) { // 在Vue的原型上混入$watch的方法 创建用户监听\r\n    options.user = true // 配置对象 用户watch为true\r\n    let userWatcher = new Watcher(this,key,handler,options) // 生产watch实例传入 当前vm，表达式，callback，配置对象\r\n    if(options.immediate) {\r\n      handler(userWatcher.value)\r\n    }\r\n  }\r\n}\r\n\r\n// 初始化computed：\r\n  // 遍历computed 分为两个部分 一个部分创建watcher 另外通过Object.defineProperty定义computed的key\r\n  // 定义的watcher 默认是脏的，只有脏的才会从新取值（缓存）\r\n  // 当watcher计算属性依赖数据发生改变 dirty 脏值为true。且依赖数据的dep收集完计算属性的watcher后还要收集渲染watcher，发生改变渲染视图","\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // abc-aaa\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <aaa:asdads>\r\n//  /^<((?:[a-zA-Z_][\\-\\.0-9_a-zA-Z]*\\:)?[a-zA-Z_][\\-\\.0-9_a-zA-Z]*)/\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名 \r\n// /^<\\/((?:[a-zA-Z_][\\-\\.0-9_a-zA-Z]*\\:)?[a-zA-Z_][\\-\\.0-9_a-zA-Z]*)[^>]*>/\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >  <div>\r\n\r\n\r\nlet root = null;\r\nlet currParent;\r\nlet stack = [];\r\nconst ELEMENT_TYPE = 1 // 标签节点  \r\nconst TEXT_TYPE = 3 // 文本节点\r\n\r\n// 将html字符串通过正则的形式解析出ast\r\nexport function parserHtml(html) { // <div id=\"app\"></app>\r\n  while (html) { // 循环解析\r\n    let textEnd = html.indexOf('<') // 查看是否以<开头\r\n    if (textEnd == 0) {\r\n      const startTagMatch = parseStartTag() // 解析开始标签\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n        continue\r\n      }\r\n\r\n      const endTagMatch = parseEndTag(html)\r\n      if (endTagMatch) {\r\n        end(endTagMatch[1])\r\n        continue\r\n      }\r\n\r\n    }\r\n    let text\r\n    if (textEnd > 0) {\r\n      text = html.substring(0, textEnd)\r\n    }\r\n    if (text) {\r\n      chars(text)\r\n      advance(text.length)\r\n    }\r\n\r\n  }\r\n\r\n  function parseStartTag() {\r\n    let start = html.match(startTagOpen) // 将模板字符串匹配开始标签\r\n    if (start) { // 匹配到 创建match对象保存当前 开始标签名 默认属性为空\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: []\r\n      }\r\n      advance(start[0].length) // 截取已经匹配到的开始标签\r\n      let end, attr\r\n      // 循环匹配 不结束标签 和 属性 当两者同时成立时 拿去匹配到的属性名和属性值 push到 match中 \r\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n        match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n        advance(attr[0].length) // 截取已经匹配到的属性\r\n      }\r\n      if (end) { // 当匹配到结束标签时\r\n        advance(end[0].length)\r\n        return match\r\n      }\r\n    }\r\n  }\r\n\r\n  function parseEndTag() {\r\n    let endTagMatch = html.match(endTag) // 将模板字符串匹配开始标签\r\n    advance(endTagMatch[0].length)\r\n    return endTagMatch\r\n  }\r\n\r\n  function advance(len) {\r\n    html = html.substring(len)\r\n  }\r\n\r\n  return root\r\n}\r\n\r\n\r\nfunction createElement(tagName, attrs) {\r\n  return {\r\n    type: ELEMENT_TYPE,\r\n    tag: tagName,\r\n    children: [],\r\n    attrs,\r\n    parent: null\r\n  }\r\n}\r\n\r\nfunction start(tagName, tagAttrs) {\r\n  let element = createElement(tagName, tagAttrs)\r\n  if (!root) {\r\n    root = element\r\n  }\r\n  stack.push(element)\r\n  currParent = element\r\n}\r\nfunction end(tagName) {\r\n  let currentElement = stack.pop()\r\n  let parentElement = stack[stack.length - 1]\r\n  if (tagName == currentElement.tag) {\r\n    if (parentElement) {\r\n      parentElement.children.push(currentElement)\r\n      currentElement.parent = parentElement\r\n    }\r\n  }\r\n}\r\nfunction chars(text) {\r\n  text = text.replace(/\\s/g, '')\r\n  if (text) {\r\n    currParent.children.push({\r\n      type: TEXT_TYPE,\r\n      text\r\n    })\r\n  }\r\n}\r\n\r\n","\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g  // 匹配插值语法\r\n\r\nfunction geneProps(attrs) {\r\n  let props = `` \r\n  attrs.forEach(attr => { // 遍历当前节点的属性list  {id:'app',class:'classA',style: {font-size: '14px',color:'red'}}\r\n    if(attr.name === 'style') { // 如果当前属性item的name为style {font-size: '14px';color:'red'}\r\n      let obj = {} // 定义空对象\r\n      attr.value.split(';').forEach(styleItem => {   // 拿到当前value进行split  [font-size: '14px',color:'red']\r\n        let [key,value] = styleItem.split(':') // [key: 'font-size',value: '14px']  [key: 'color',value: 'red']\r\n        obj[key] = `${value}` // obj = {font-size: '14px',color: 'red'}\r\n      })\r\n      attr.value = obj // attr.style = {font-size: '14px',color: 'red'}\r\n    }\r\n    props += `${attr.name}:${JSON.stringify(attr.value)},` // 如果name不是style,直接拼:props = id:'app',class:'classA',style:{font-size: '14px';color:'red'}\r\n  })\r\n  return `{${props.slice(0,-1)}}` // return {id:'app',class:'classA',style:{font-size: '14px';color:'red'}}\r\n}\r\n\r\nfunction gen(node) {\r\n  if(node.type == 1){ // 如果当前节点为为标签节点  递归调用generate方法\r\n    return generate(node)\r\n  }else { // 如果是文本节点\r\n    let text = node.text // 获取文本内容\r\n    let tokens = []; // 定义空数组 方便依次递加\r\n    let match;\r\n    let lastIndex = defaultTagRE.lastIndex = 0 // defaultTagRE插值语法{{}} 匹配每次用exec匹配时候默认最后一次匹配项为0\r\n    while(match = defaultTagRE.exec(text)){ // while循环去匹配当前text = \"hello  {{name}}  word\"\r\n      let index = match.index //开始索引 第一次匹配到的index  hello  的长度\r\n      if(index > lastIndex) { // 将hello  push到tokens中\r\n        tokens.push(JSON.stringify(text.slice(lastIndex,index))) // 截取普通字符串\r\n      }\r\n      tokens.push(`_s(${match[1].trim()})`) // 截取插值语法字符串push到tokens中\r\n      lastIndex = index + match[0].length // 将当前lastIndex = hello  {{name}}的长度 循环匹配直至最后一次 \r\n    }\r\n    if(lastIndex<text.length) { // 将最后的  word push到tokens中\r\n      tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n    }\r\n    return `_v(${tokens.join('+')})` // 转为字符串return\r\n  }\r\n}\r\n\r\nfunction geneChildren(root) { \r\n  let children = root.children // 拿到当前children 判断children是否大于0 继续转化子节点 \r\n  if(children && children.length > 0) {\r\n    return children.map(c => gen(c)).join(',') \r\n  }else{\r\n    return false\r\n  }\r\n}\r\n\r\nexport function generate(root) { // 传入ast语法树\r\nlet children = geneChildren(root) // 转化当前传入的root.children\r\n  //  geneProps(root.attrs) 转化 当前节点的属性\r\n  let code = `_c('${root.tag}',${root.attrs.length > 0 ? geneProps(root.attrs) : undefined}${children ? `,${children}` : ''})`\r\n  return code\r\n}","\r\nimport { parserHtml } from \"./parseHtml\"\r\nimport { generate } from \"./generate\";\r\nexport function compileToFunction(template) {\r\n  let root = parserHtml(template) // 编译模板字符串 转为 ast语法\r\n  let code = generate(root)\r\n  let render = new Function(`with(this){ return ${code}}`)\r\n  // console.log(render.call(vm));\r\n\r\n  return render\r\n}\r\n// vue2 模板编译的顺序\r\n// template模板 通过正则while匹配 匹配成ast语法（组合成树）\r\n// ast => 递归遍历每个节点  编译成code字符串 _c('div',{id: 'app'},_c(span,undefined,_v('hello'+ _s(name) + 'world')))\r\n// 生成render函数（new Function + with）\r\n// return  render函数 通过.call调用 指定with参数this \r\n\r\n\r\n\r\n// let obj = {name:'sau3n'}\r\n// with(obj) {\r\n//   console.log(name);\r\n// }","\r\nexport function patch(oldElm, vnode) {\r\n  const isRealDom = oldElm.nodeType\r\n  if (isRealDom) {\r\n    let el =  createElm(vnode) // 根据虚拟节点创建真实节点\r\n    let parentElm = oldElm.parentNode // 拿去旧节点的父节点 body\r\n    parentElm.insertBefore(el,oldElm.nextSibling) // 在旧节点的下一个节点钱插入编译好的真实节点\r\n    parentElm.removeChild(oldElm);  // 移除旧的节点 进行模板替换\r\n    return el  // 将渲染好的真实节点返回\r\n  }\r\n}\r\n\r\nfunction createElm(vnode) {\r\n  const { tagName, data, key, children, text } = vnode\r\n  if (tagName) { // 如果是元素节点\r\n    vnode.el = document.createElement(tagName) // 创建元素节点\r\n    updateProps(vnode) // 更新当前节点的属性\r\n    if (children && children.length > 0) { // 判断当前节点是否有子节点\r\n      children.forEach(child => { // 遍历子节点\r\n       return vnode.el.appendChild(createElm(child)) //将子节点添加到父节点上\r\n      })\r\n    }\r\n  } else { // 如果是文本节点\r\n    return document.createTextNode(text) // 返回文本节点\r\n  }\r\n  return vnode.el // 返回当前编译好的当前元素节点 用于添加子节点 最后将编译好的根节点返回\r\n}\r\n\r\nfunction updateProps(vnode) { // 更新当前节点的属性\r\n  const el = vnode.el // 拿去当前真实节点\r\n  const attrs = vnode.data // 拿去当前节点的属性\r\n  for (const key in attrs) { // 遍历属性\r\n    if (Object.hasOwnProperty.call(attrs, key)) {\r\n      if (key === 'style') { // 如果当前属性key为style\r\n        // const attr = attrs[key]\r\n        // let str = ``\r\n        // Object.entries(attr).forEach(item => {\r\n        //   let [name, value] = item\r\n        //   str += `${name}:${value}; `\r\n        // })\r\n        // el.setAttribute('style', `${str.slice(0, str.length - 1)}`)\r\n        for (const key in attrs.style) { // 遍历style对象\r\n          el.style[key] = attrs.style[key] // 给当前真实节点添加样式\r\n        } \r\n      } else if (key === 'class') { // 如果当前key是class 给当前真实节点添加class\r\n        el.className = attrs.class\r\n      } else {\r\n        el.setAttribute(key, attrs[key]) // 设置其他属性比如 a:1 <div a=\"1\">\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// 首先 判断 旧的虚拟节点是否为元素节点 nodeType\r\n// 如果是元素节点代表是真实的dom 需要进行渲染操作\r\n// 递归遍历虚拟节点 创建真实节点 在这一过程中将虚拟节点的data属性 挂载到生成真实dom节点的属性上","\r\nimport { Watcher } from \"./observer/watcher\";\r\nimport { patch } from \"./vdom/patch\";\r\nimport { nextTick } from './next-tick'\r\nexport function lifecycleMixin(Vue) {\r\n  Vue.prototype._update = function (vnode) { // 混入_update更新界面的方法 接收参数（执行render函数后生成的对象）\r\n    let vm = this\r\n    vm.$el = patch(vm.$el, vnode); // 需要用虚拟节点创建出真实节点 替换掉 真实的$el\r\n    // 我要通过虚拟节点 渲染出真实的dom\r\n\r\n  },\r\n\r\n    Vue.prototype.$nextTick = nextTick\r\n}\r\n\r\n// 后续可能还会调用此函数 数据刷新更新界面\r\nexport function mountComponent(vm, el) {\r\n  const options = vm.$options\r\n  vm.$el = el\r\n  let updateComponent = () => {\r\n    vm._update(vm._render())\r\n  }\r\n\r\n  // updateComponent()\r\n  new Watcher(vm, updateComponent, () => {\r\n    console.log('更新界面');\r\n  }, true)\r\n\r\n}\r\n\r\n//  在数据劫持的过程中所有的数据绑定对应dep \r\n// 需要将数据和页面进行关联起来，数据发生变化自动进行更新视图，调用渲染函数 mountComponent\r\n// 创建观察者模式，属性是“被观察者” 渲染函数是“观察者”，当被观察者发生改变，观察者执行对应操作\r\n// Watcher 创建一个类的实例  是观察者\r\n  // 参数1：传入被观测的数据，\r\n  // 参数2：被观察者发生变化后执行观察者的操作\r\n  // 参数3：用户自定义的回调函数，执行完观察者的操作后悔调用回调函数\r\n  // 参数4：配置参数，如果是渲染watcher 配置参数默认为true\r\n","import { initState } from \"./state\"\r\nimport { compileToFunction } from \"./compiler/index\"\r\nimport { mountComponent } from \"./lifecycle\"\r\n\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function(options) {\r\n    const vm = this // 缓存this 保存到当前作用域\r\n    vm.$options = options  // 将选项保存到实例的$options\r\n\r\n    // 对数据进行初始化 比如 data  computed watch ...\r\n    initState(vm)\r\n\r\n    if(vm.$options.el){\r\n      vm.$mount(vm.$options.el) // 挂载界面，如果当前配置项有el属性，传入当前el\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function(el) {\r\n    const vm = this\r\n    let options = vm.$options\r\n    el = document.querySelector(el)\r\n    if(!options.render) { // render配置项高于el\r\n      let template = options.template\r\n      if(!template && el) { // 判断配置项是否有template属性  如果没有就拿el的outerHTML\r\n        template = el.outerHTML // 模板字符串  之后通过正则进行匹配 将模板字符串转为render渲染函数\r\n        let render = compileToFunction(template) // 拿到render函数\r\n        options.render = render // 挂载到配置项中，以后数据发生变化 可以通过配置项直接执行渲染函数\r\n      }\r\n    }\r\n    mountComponent(vm,el) // 拿到render函数后 渲染界面\r\n  }\r\n\r\n}\r\n","export function createElementNode(tagName,data = {},...children) { // 编译节点 最终返回一个对象\r\n  let key = data.key\r\n  if(key) {\r\n    delete data.key\r\n  }\r\n  return vnode(tagName,data,key,children,undefined)\r\n}\r\n\r\nexport function createTextNode(text) { // 翻译文本内容\r\n  return vnode(undefined,undefined,undefined,undefined,text)\r\n}\r\n\r\nfunction vnode(tagName, data, key, children, text) { // 节点名称  节点属性 节点key 子节点  文本内容\r\n  return {\r\n    tagName, data, key, children, text\r\n  }\r\n}","import { createTextNode, createElementNode } from \"./vdom/create-vdom\"\r\n\r\n//  Vue原型混入 _c _v  _s 方法执行render函数时会用到。\r\n\r\nexport function renderMixin(Vue) {\r\n  Vue.prototype._c = function () { // 编译元素节点\r\n    return createElementNode(...arguments)\r\n  }\r\n\r\n  Vue.prototype._v = function (text) {  // 编译文本节点\r\n    return createTextNode(text)\r\n  }\r\n\r\n  Vue.prototype._s = function (val) { // 编译插值语法 \r\n    return val === null ? '' : (typeof val === 'object' ? JSON.stringify(val) : val); // 如果取到当前值是对象 需要stringify转化\r\n  }\r\n\r\n  Vue.prototype._render = function () {\r\n    let render = this.$options.render // 拿到配置对象中的render方法 \r\n    return render.call(this) // 调用 render方法 this指向当前实例  返回执行render函数后 产生的一个对象\r\n  }\r\n}\r\n\r\n//  _c('div',{id:\"app\",class:\"warp\",style:{\"font-size\":\" 16px\",\"color\":\"red\"}},_c('span',undefined,_v(\"hello\"+_s(name)+\"word\")),_c('ul',undefined,_c('li',undefined,_v(_s(person.name))),_c('li',undefined,_v(_s(person.age)))))}","import {initMixin} from './init'\r\nimport { lifecycleMixin } from './lifecycle'\r\nimport {renderMixin} from './render'\r\nimport {stateMixin} from './state'\r\nfunction Vue (options) { \r\n  // options 用户传入的选项\r\n  this._init(options) // 根据选项进行初始化\r\n}\r\n\r\ninitMixin(Vue) // 给Vue的原型添加_init的方法，传入Vue\r\nrenderMixin(Vue) // 给Vue原型添加_c _v _s _render 方法\r\nstateMixin(Vue)\r\nlifecycleMixin(Vue)\r\nexport default Vue"],"names":["isFunction","value","isObject","oldMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","call","inserted","ob","__ob__","slice","observerArray","dep","notify","id","Dep","sub","target","append","watcher","push","update","stack","pushTarget","popTarget","pop","length","Observer","data","defineProperty","enumerable","isArray","__proto__","walk","i","observe","keys","key","defineReactive","observeArray","currentValue","childOb","get","set","newValue","callbacks","waiting","flushCallbacks","cb","timerFn","timer","Promise","resolve","then","MutationObserver","textNode","document","createTextNode","characterData","textContent","setTimeout","nextTick","queue","has","pending","flushSchedulerQueue","run","queueWatcher","Watcher","vm","exprOrFn","options","user","lazy","dirty","getter","obj","split","deps","depIds","Set","undefined","add","addSub","oldValue","initState","opts","$options","initData","computed","initComputed","watch","initWatch","_data","proxy","watchers","_computedWatchers","userDef","deReactiveComputed","createComputedGetter","computedWatcher","evaluate","depend","shareComputedFn","handler","handlerFn","createWatch","$watch","source","stateMixin","Vue","userWatcher","immediate","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","root","currParent","ELEMENT_TYPE","TEXT_TYPE","parserHtml","html","textEnd","indexOf","startTagMatch","parseStartTag","start","tagName","attrs","endTagMatch","parseEndTag","end","text","substring","chars","advance","match","attr","name","len","createElement","type","tag","children","parent","tagAttrs","element","currentElement","parentElement","replace","defaultTagRE","geneProps","props","styleItem","JSON","stringify","gen","node","generate","tokens","lastIndex","exec","index","trim","join","geneChildren","map","c","code","compileToFunction","template","render","Function","patch","oldElm","vnode","isRealDom","nodeType","el","createElm","parentElm","parentNode","insertBefore","nextSibling","removeChild","updateProps","child","appendChild","hasOwnProperty","style","className","setAttribute","lifecycleMixin","_update","$el","$nextTick","mountComponent","updateComponent","_render","console","log","initMixin","_init","$mount","querySelector","outerHTML","createElementNode","renderMixin","_c","arguments","_v","_s","val"],"mappings":"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"}