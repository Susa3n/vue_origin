{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/global-api/index.js","../src/observer/Array.js","../src/observer/dep.js","../src/observer/index.js","../src/next-tick.js","../src/observer/scheduler.js","../src/observer/watcher.js","../src/state.js","../src/compiler/parseHtml.js","../src/compiler/generate.js","../src/compiler/index.js","../src/vdom/patch.js","../src/lifecycle.js","../src/init.js","../src/vdom/create-vdom.js","../src/render.js","../src/index.js"],"sourcesContent":["export function isFunction(value) {\r\n  return typeof value === 'function'\r\n}\r\nexport function isObject(value) {\r\n  return typeof value === 'object' && value != null\r\n}\r\n\r\n// 生命周期策略模式\r\nconst lifecycle = ['beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeUpdate', 'updated', 'beforeDestroy', 'destroyed']\r\nlet strategy = {}\r\nfunction mergeHook(parentVal, childVal) {\r\n  if (childVal) { // 第一次parentVal是空对象，拿去childValue\r\n    if (parentVal) {\r\n      return parentVal.concat(childVal) // 之后第二次进行合并时parentVal就是第一次合并的[childVal]，进行返回\r\n    } else {\r\n      return [childVal] // 返回[childVal]\r\n    }\r\n  } else {\r\n    return parentVal\r\n  }\r\n}\r\n\r\nlifecycle.forEach(key => { // 遍历生命周期的name在strategy中定义函数用来合并生命周期的方法\r\n  strategy[key] = mergeHook\r\n})\r\nexport function mergeOptions(parent, child) {\r\n  const options = {}\r\n  for (let key in parent) { // 遍历parent的key\r\n    mergeFiled(key)\r\n  }\r\n  for (let key in child) { \r\n    if (parent.hasOwnProperty(key)) { // 如果child中的key在parent 跳出循环 \r\n      continue;\r\n    }\r\n    mergeFiled(key) // 如果不在 调用mergeFiled => options[key] = childVal\r\n  }\r\n\r\n  function mergeFiled(key) {\r\n    let parentVal = parent[key] // 拿去parent的值\r\n    let childVal = child[key]\r\n    if (strategy[key]) { // 如果当前key属于生命周期中字段\r\n      options[key] = strategy[key](parentVal, childVal) // 合并生命周期\r\n    } else {\r\n      if (isObject(parentVal) && isObject(childVal)) { // 如果是对象形式进行简答的合并 \r\n        options[key] = { ...parentVal, ...childVal }\r\n      } else {\r\n        options[key] = childVal // 如果父中的key是undefined 直接将子中的childVal返回\r\n      }\r\n    }\r\n  }\r\n  return options\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { mergeOptions } from \"../utils\"\r\n\r\n\r\nexport function globalApi(Vue) {\r\n  Vue.options = {} // Vue本身有options属性是空对象\r\n  Vue.mixin = function (options) {  // mixin混入，在这个方法里合并配置对象\r\n    this.options = mergeOptions(this.options,options) // 将用户传的options和本身的options进行合并\r\n    return this\r\n  }\r\n}","let oldMethods = Array.prototype\r\nexport let arrayMethods = Object.create(oldMethods) // 旧数组的原型方法\r\nlet methods = [\r\n  'push',\r\n  'shift',\r\n  'unshift',\r\n  'splice',\r\n  'pop',\r\n  'sort',\r\n  'reverse'\r\n]\r\n\r\nmethods.forEach(method => {\r\n  arrayMethods[method] = function (...args) { // args 是参数列表\r\n  // 这里的this指的是谁调的   比如data: {a:[1,2,3]}  vm.a.push(4) 此时[1,2,3]就为当前的this\r\n    oldMethods[method].call(this, ...args) // 执行旧数组上的方法\r\n    let inserted;\r\n    let ob = this.__ob__ // 在对数组外层观测时 将当前实例挂载的this挂载到__ob__属性\r\n    switch (method) { // 判断如果是push  shift splice 方法  对于新增的属性进行数据劫持 args为新增的数据\r\n      case 'push':\r\n      case 'shift':\r\n        inserted = args \r\n        break;\r\n      case 'splice': // splice的第二个参数以后都为新增的数据\r\n        inserted = args.slice(2)\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (inserted) ob.observerArray(inserted) // 通过observerArray递归进行数据劫持\r\n    ob.dep.notify() //如果数据发生变化  通过dep通知对应的watcher进行关联\r\n  }\r\n})","let id = 0\r\nexport class Dep {\r\n  constructor() {\r\n    this.id = id++\r\n    this.sub = []\r\n  }\r\n\r\n  append() {\r\n    Dep.target.append(this) // dep添加watcher\r\n  }\r\n  addSub(watcher) { // 反之 watcher添加dep\r\n    this.sub.push(watcher)\r\n  }\r\n  notify() {\r\n    this.sub.forEach(watcher => watcher.update()) // 将当前dep中收集到的watcher进行更新\r\n  }\r\n\r\n}\r\nDep.target = null\r\nlet stack = []\r\n// 第一次进来的是渲染watcher  第二次是计算属性watcher \r\n// 计算属性依赖的数据 收集的只有计算属性watcher，渲染watcher没有收集，比如fullName () {return this.firstName + this.lastName}\r\n// 此时 this.firstName 和 this.lastName收集的watcher只有计算属性watcher\r\n// 通过栈的形式将先保存渲染watcher 之后保存计算属性watcher\r\nexport function pushTarget(watcher) {\r\n  stack.push(watcher) \r\n  Dep.target = watcher \r\n}\r\n// 当计算属性取过值之后 调用popTarget ，Dep.target = 渲染watcher\r\n// 在计算属性evaluate之后通过对应的计算属性watcher，拿到对应的deps\r\n// 遍历deps,也就是this.firstName 和 this.lastName的绑定的dep，通过dep再去收集渲染watcher\r\n// 这样就达到目的，一个dep收集多个watcher\r\nexport function popTarget() {\r\n  stack.pop()\r\n  Dep.target = stack[stack.length - 1]\r\n}","\r\nimport { isObject } from \"../utils\";\r\nimport { arrayMethods } from './Array'\r\nimport { Dep } from './dep'\r\n\r\n// 如果数据是对象 会对对象递归 进行数据劫持\r\n// 如果是数组 会劫持数组的方法 并对数组上不是基本数据类型的数据进行数据劫持\r\n\r\nclass Observer {\r\n  constructor(data) {\r\n    // 给要劫持的数据上添加__ob__属性，指定为当前this（两个作用）\r\n    // 一： observe劫持数据时可以通过是否有__ob__属性来判断是否已经劫持过 劫持过直接return\r\n    // 二：调用数组的方法（push、shift、splice...）对于新增的数据，可以通过this.__ob__.observerArray递归劫持\r\n    // data.__ob__ = this   如果直接放到data的属性上，当walk(data)时会遍历__ob__上的属性，导致递归爆栈\r\n    // 解决方法： 通过 Object.defineProperty 设置不可枚举\r\n    this.dep = new Dep()\r\n    Object.defineProperty(data, '__ob__', {\r\n      value: this,\r\n      enumerable: false // 不可枚举\r\n    })\r\n    if (Array.isArray(data)) { // 处理数组格式\r\n      // 对数组劫持的逻辑\r\n      data.__proto__ = arrayMethods  // 对数组原来的方法进行重改\r\n      this.observerArray(data) // 对数据中的数据 进行递归劫持\r\n    } else { //处理对象格式\r\n      this.walk(data) // 对对象中所有的属性进行数据劫持\r\n    }\r\n  }\r\n  observerArray(data) {\r\n    for (let i = 0; i < data.length; i++) { // 遍历数组中的每一项 劫持数据\r\n      observe(data[i])\r\n    }\r\n  }\r\n\r\n  walk(data) {\r\n    Object.keys(data).forEach(key => { // 遍历data拿到所有的key\r\n      defineReactive(data, key, data[key])\r\n    })\r\n  }\r\n\r\n\r\n}\r\n\r\nfunction observeArray(value) {\r\n  if(Array.isArray(value)){ // 是数组类型 进行遍历\r\n    value.forEach(currentValue => {\r\n      let ob = observe(currentValue) // 拿去下一层的dep实例 如果有进行下一层关联\r\n      if(ob){\r\n        ob.dep.append()\r\n      } \r\n      observeArray(currentValue) // 递归关联\r\n    })\r\n  }\r\n}\r\n\r\nfunction defineReactive(data, key, value) { // 将数据定义为响应式\r\n  let dep = new Dep() // 数据劫持时给数据绑定对应的dep\r\n  let childOb = observe(value) // value可能还是对象  递归进行劫持,value是数组或value时，为了将value的dep的和视图watcher进行关联，此时childOb是数组或对象的dep实例\r\n  Object.defineProperty(data, key, {\r\n    get() { // 在watcher中读取对应数据 会判断Dep.target是否是watcher\r\n      if(Dep.target) { // 如果是\r\n        dep.append() // 将当前dep（也就是当前数据）进行关联\r\n        if(childOb) { // 如果有值 数组去关联视图watcher\r\n          childOb.dep.append()\r\n          observeArray(value) // 递归将下一层的数据进行关联watcher  [[[1,2,3]]]\r\n        }\r\n      }\r\n      return value\r\n    },\r\n    set(newValue) {\r\n      // 如果set的newValue是一个对象 也要对对象进行劫持\r\n      if(newValue !=  value) {\r\n        observe(newValue)\r\n        value = newValue\r\n        dep.notify() // 通知对应观察者执行操作\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport function observe(data) { // 观测数据\r\n  // 判断用户返回的data是否是对象 如果不是直接返回\r\n  if (!isObject(data)) {\r\n    return\r\n  }\r\n\r\n  if (data.__ob__) {\r\n    return data.__ob__\r\n  }\r\n\r\n  // data最外层默认是对象\r\n  return new Observer(data) // 返回一个实例\r\n}\r\n\r\n\r\n/**\r\n * data(){\r\n *  return {\r\n *      person: [{name:'susa3n'}]\r\n *    }\r\n * }\r\n * 完整的初始化流程：\r\n *  observe最开始观测data时，最外层是对象形式，遍历所有的key，进行数据劫持，\r\n * 将当前实例挂载到数组上__ob__ = this，当发现第二层值为数组时，调用observerArray方法，传入当前值，遍历数组进行递归劫持。\r\n * vm.person.push({name:'lisi'}) 执行旧数组原型上的方法 对新增的数据 通过__ob__.observerArray(args)\r\n *\r\n */","\r\nlet callbacks = []\r\nlet waiting = false \r\n\r\nfunction flushCallbacks() {\r\n  callbacks.forEach(cb => cb())\r\n  waiting = false\r\n  callbacks = []\r\n}\r\n\r\nfunction timerFn() {\r\n  let timer = null\r\n  if(Promise) { // \r\n    timer = () => {\r\n      Promise.resolve().then(() => {\r\n        flushCallbacks()\r\n      })\r\n    }\r\n  }else if(MutationObserver) {\r\n    let textNode = document.createTextNode(1)\r\n    let observe = new MutationObserver(flushCallbacks)\r\n    observe.observe(textNode,{\r\n      characterData: true\r\n    })\r\n    timer = () => {\r\n      textNode.textContent = 3\r\n    }\r\n  }else {\r\n    timer = setTimeout(flushCallbacks);\r\n  }\r\n  timer()\r\n}\r\n\r\nexport function nextTick(cb) { // 接收一个回调函数\r\n  callbacks.push(cb) // push到callbacks中\r\n  if(!waiting){ // 异步执行一次 \r\n    timerFn()\r\n    waiting = true\r\n  }\r\n}\r\n","import { nextTick } from '../next-tick'\r\nlet queue = []\r\nlet has = {}\r\nlet pending = false\r\n\r\n\r\nfunction flushSchedulerQueue() {\r\n  queue.forEach(watcher => { // 从queue遍历所有的watcher 进行更新\r\n    watcher.run()\r\n    queue = []; // 让下一次可以继续使用 清空数据\r\n    has = {};\r\n    pending = false\r\n  })\r\n}\r\n\r\nexport function queueWatcher(watcher) {\r\n  let id = watcher.id // 拿取watcher的id\r\n  if (has[id] == null) { // 判断当前watcher是否在has对象中\r\n    queue.push(watcher) // 将当前watcher push 到对列中\r\n    has[id] = true // has中保存watcher的id置为true\r\n    if (!pending) { // 默认false 之后置为true 只让更新操作改为异步的，执行nexttick\r\n      // setTimeout(flushSchedulerQueue,0);\r\n      nextTick(flushSchedulerQueue)  // 执行异步更新视图的方法\r\n      pending = true\r\n    }\r\n  }\r\n}","import { pushTarget, popTarget } from \"./dep\"\r\nimport { queueWatcher } from './scheduler'\r\nlet id = 0\r\nexport class Watcher {\r\n  /**\r\n   *  Watcher是一个类，生成一个观察者\r\n   * @param {*} vm 被观测的对象或者数据\r\n   * @param {*} exprOrFn  被观测的对象发生变化执行对应操作（渲染watcher是函数，在computed或者watch中是表达式）\r\n   * @param {*} cb 执行完对应操作后的回调函数\r\n   * @param {*} options 配置对象\r\n   */\r\n  constructor(vm, exprOrFn, cb, options) {\r\n    // 将传入的参数保存到实例本身\r\n    this.vm = vm\r\n    this.cb = cb // 保存回调函数\r\n    this.options = options\r\n    this.user = options.user // 用户watch\r\n    this.lazy = !!options.lazy // 计算属性watch 初次不加载\r\n    this.dirty = options.lazy // 计算属性watch 默认是脏的 \r\n    if (typeof exprOrFn == 'string') { // 如果是用户watch exprOrFn是一个表达式 'name' 'person.nam'\r\n      this.getter = function () {  // getter为一个函数，通过表达式的取值 将watcher 和 表达式的dep进行关联\r\n        let obj = vm\r\n        exprOrFn.split('.').forEach(i => {\r\n          obj = obj[i]\r\n        })\r\n        return obj\r\n      }\r\n    } else {\r\n      this.getter = exprOrFn // 挂载到实例的getter属性上，当被观测的数据发生变化 执行this.get\r\n    }\r\n    this.id = id++\r\n    this.deps = []\r\n    this.depIds = new Set()\r\n    this.value = this.lazy ? undefined : this.get() // 默认第一次执行 拿到watcher的值 保存到实例上，以便用户watcher发生变化执行callback传入对应新值和旧值\r\n  }\r\n\r\n  get() { // 利用JS的单线程\r\n    pushTarget(this) // 开始：将watcher（页面）和dep（数据） 进行关联起来\r\n    let value = this.getter.call(this.vm) // 读取对应数据 \r\n    popTarget()\r\n    return value\r\n  }\r\n\r\n\r\n\r\n  append(dep) { // 接收dep\r\n    if (!this.depIds.has(dep.id)) {  // 判断当前watcher中depIds中是否有当前dep\r\n      this.depIds.add(dep.id) // 将接收的dep的id set到当前watcher实例depIds\r\n      this.deps.push(dep) // 将dep保存到watcher的deps中\r\n      dep.addSub(this) // 反之将watcher关联到dep中\r\n    }\r\n  }\r\n\r\n  update() { // 当前观察者执行对应操作\r\n    // this.get()\r\n    // 如果数据改变通知对应watcher进行update，当多次更改数据时，会导致多次渲染页面，可以将渲染界面改为异步\r\n    // 通过queueWatcher收集watcher，之后进行异步更新\r\n    if(this.lazy) { // 如果当前watcher是计算属性watcher dirty为true是脏的\r\n      this.dirty = true\r\n    }else {\r\n      queueWatcher(this)\r\n    }\r\n  }\r\n\r\n  run() {\r\n    let oldValue = this.value // 当监听的值发生变化保存旧值在当前作用域\r\n    let newValue = this.value = this.get() // 保存新值到实例上 用于下次更新\r\n    if (this.user) {\r\n      this.cb.call(this.vm, newValue, oldValue) // 如果是用户watcher 执行回调函数 传入参数\r\n    }\r\n  }\r\n  evaluate() {\r\n      this.value = this.get() // 调用计算属性的getter函数\r\n      this.dirty = false // 脏值变为不脏的  \r\n      return this.value // 返回计算属性的值\r\n  }\r\n\r\n  depend() {\r\n    let i = this.deps.length // 拿去当前计算属性上的dep，拿到每个dep关联渲染watcher\r\n    while(i--) {\r\n      this.deps[i].append()\r\n    }\r\n  }\r\n\r\n}\r\n\r\n// watcher 和 dep\r\n// 我们将更新界面的功能封装了一个渲染watcher\r\n// 渲染页面前，会将watcher放到Dep的类上  Dep.target = watcher\r\n// 在vue中页面渲染时使用属性，需要进行依赖收集，收集对象的渲染watcher\r\n  // 取值时给每个属性都加了一个dep实例，用于存储渲染watcher（同一个watcher可能存有多个dep）\r\n  // 每个属性可能对应多个视图（多个视图就对应多个watcher） 一个属性对应多个watcher\r\n// dep.depend() => 通知dep存放watcher  Dep.target.addDep () => 通知watcher存放dep","import { isFunction } from \"./utils\" // 引入工具函数判断当前值是否是函数类型\r\nimport { observe } from \"./observer/index\"\r\nimport { Watcher } from \"./observer/watcher\"\r\nimport { Dep } from \"./observer/dep\"\r\nexport function initState(vm) {\r\n  const opts = vm.$options\r\n  if (opts.data) { // 如果选项中有data\r\n    initData(vm) // 对data进行初始化\r\n  }\r\n  if (opts.computed) {\r\n    initComputed(vm, opts.computed)\r\n  }\r\n  if (opts.watch) {\r\n    initWatch(vm, opts.watch)\r\n  }\r\n}\r\n\r\nfunction initData(vm) { // 初始化data方法\r\n  let data = vm.$options.data // vm中$符号开头的属性不会被代理\r\n  // vue2中会将所有层次的数据进行数据劫持 通过Object.defineProperty\r\n\r\n  // call的原因 data中所有数据的this都指向当前实例 vm\r\n  data = vm._data = isFunction(data) ? data.call(vm) : data\r\n  for (const key in data) { // 通过proxy代理将data上的数据定义vm上，当读取属性时还是走的observe\r\n    proxy(vm, '_data', key)\r\n  }\r\n  // 观测数据 将数据变为响应式的\r\n  observe(data)\r\n}\r\n\r\nfunction initComputed(vm, computed) {\r\n  let watchers = vm._computedWatchers = {} // 保存一份计算属性的watchers到vm实例上，以便可以通过key和vm找到对应的计算属性watcher\r\n  for (const key in computed) { // 遍历计算属性\r\n    let userDef = computed[key]\r\n    let getter = typeof userDef === 'function' ? userDef : userDef.get // 判断单个计算属性是函数或者是对象，拿到定义的函数\r\n    watchers[key] = new Watcher(vm, getter, () => { }, { lazy: true }) // 生成计算属性watcher 传入vm  getter 配置对象默认lazy为true 初次不渲染 \r\n    deReactiveComputed(vm, key, userDef) // 将computed属性的key通过Object.defineProperty定义到vm\r\n  }\r\n}\r\n\r\nfunction createComputedGetter(key) {\r\n  return function () {\r\n    let computedWatcher = this._computedWatchers[key] // 通过vm和key拿到对应的watcher\r\n    if (computedWatcher.dirty) { // 判断当前watcher是否是脏值 dirty:true\r\n      computedWatcher.evaluate()  // 取值\r\n    }\r\n    if (Dep.target) { // 取值之后 渲染watcher继续收集计算属性watcher上的dep\r\n      computedWatcher.depend()\r\n    }\r\n    return computedWatcher.value // 将值返回\r\n  }\r\n}\r\n\r\nfunction deReactiveComputed(vm, key, userDef) { // 定义计算属性的key响应式\r\n  let shareComputedFn = {}\r\n  shareComputedFn.get = createComputedGetter(key), // 如果userDef是对象，通过key去找到对应的watcher,再通过watcher调用getter\r\n    shareComputedFn.set = userDef.set\r\n  Object.defineProperty(vm, key, shareComputedFn)\r\n}\r\n\r\n\r\nfunction initWatch(vm, watch) { // 初始化watch方法\r\n  for (const key in watch) { // 遍历watch\r\n    let handler = watch[key]\r\n    if (Array.isArray(handler)) { // 判断value的类型，如果是数组类型 需要创建多个用户watch\r\n      handler.forEach(handlerFn => {\r\n        createWatch(vm, key, handlerFn)\r\n      })\r\n    } else {\r\n      if (typeof handler === 'object') { // 如果是对象类型 取出handler函数，收集配置对象，创建用户watch\r\n        createWatch(vm, key, handler.handler, handler)\r\n      } else {\r\n        createWatch(vm, key, handler) // 如果是函数 直接创建用户watchr\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction createWatch(vm, key, handler, options = {}) {\r\n\r\n  return vm.$watch(key, handler, options) // 通过$watch进行中转\r\n}\r\n\r\n\r\n// 数据代理\r\nfunction proxy(vm, source, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get() {\r\n      return vm[source][key]\r\n    },\r\n    set(newValue) {\r\n      vm[source][key] = newValue\r\n    }\r\n  })\r\n}\r\n\r\nexport function stateMixin(Vue) {\r\n  Vue.prototype.$watch = function (key, handler, options) { // 在Vue的原型上混入$watch的方法 创建用户监听\r\n    options.user = true // 配置对象 用户watch为true\r\n    let userWatcher = new Watcher(this, key, handler, options) // 生产watch实例传入 当前vm，表达式，callback，配置对象\r\n    if (options.immediate) {\r\n      handler(userWatcher.value)\r\n    }\r\n  }\r\n}\r\n\r\n// 初始化computed：\r\n  // 遍历computed 分为两个部分 一个部分创建watcher 另外通过Object.defineProperty定义computed的key\r\n  // 定义的watcher 默认是脏的，只有脏的才会从新取值（缓存）\r\n  // 当watcher计算属性依赖数据发生改变 dirty 脏值为true。且依赖数据的dep收集完计算属性的watcher后还要收集渲染watcher，发生改变渲染视图","\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // abc-aaa\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <aaa:asdads>\r\n//  /^<((?:[a-zA-Z_][\\-\\.0-9_a-zA-Z]*\\:)?[a-zA-Z_][\\-\\.0-9_a-zA-Z]*)/\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名 \r\n// /^<\\/((?:[a-zA-Z_][\\-\\.0-9_a-zA-Z]*\\:)?[a-zA-Z_][\\-\\.0-9_a-zA-Z]*)[^>]*>/\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >  <div>\r\n\r\n\r\n\r\nconst ELEMENT_TYPE = 1 // 标签节点  \r\nconst TEXT_TYPE = 3 // 文本节点\r\n\r\n// 将html字符串通过正则的形式解析出ast\r\nexport function parserHtml(html) { // <div id=\"app\"></app>\r\n  let root = null;\r\n  let currParent;\r\n  let stack = [];\r\n  while (html) { // 循环解析\r\n    let textEnd = html.indexOf('<') // 查看是否以<开头\r\n    if (textEnd == 0) {\r\n      const startTagMatch = parseStartTag() // 解析开始标签\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n        continue\r\n      }\r\n\r\n      const endTagMatch = parseEndTag(html)\r\n      if (endTagMatch) {\r\n        end(endTagMatch[1])\r\n        continue\r\n      }\r\n\r\n    }\r\n    let text\r\n    if (textEnd > 0) {\r\n      text = html.substring(0, textEnd)\r\n    }\r\n    if (text) {\r\n      chars(text)\r\n      advance(text.length)\r\n    }\r\n\r\n  }\r\n\r\n  function parseStartTag() {\r\n    let start = html.match(startTagOpen) // 将模板字符串匹配开始标签\r\n    if (start) { // 匹配到 创建match对象保存当前 开始标签名 默认属性为空\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: []\r\n      }\r\n      advance(start[0].length) // 截取已经匹配到的开始标签\r\n      let end, attr\r\n      // 循环匹配 不结束标签 和 属性 当两者同时成立时 拿去匹配到的属性名和属性值 push到 match中 \r\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n        match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n        advance(attr[0].length) // 截取已经匹配到的属性\r\n      }\r\n      if (end) { // 当匹配到结束标签时\r\n        advance(end[0].length)\r\n        return match\r\n      }\r\n    }\r\n  }\r\n\r\n  function parseEndTag() {\r\n    let endTagMatch = html.match(endTag) // 将模板字符串匹配开始标签\r\n    advance(endTagMatch[0].length)\r\n    return endTagMatch\r\n  }\r\n\r\n  function advance(len) {\r\n    html = html.substring(len)\r\n  }\r\n\r\n  function createElement(tagName, attrs) {\r\n    return {\r\n      type: ELEMENT_TYPE,\r\n      tag: tagName,\r\n      children: [],\r\n      attrs,\r\n      parent: null\r\n    }\r\n  }\r\n\r\n  function start(tagName, tagAttrs) {\r\n    let element = createElement(tagName, tagAttrs)\r\n    if (!root) {\r\n      root = element\r\n    }\r\n    stack.push(element)\r\n    currParent = element\r\n  }\r\n  function end(tagName) {\r\n    let currentElement = stack.pop()\r\n    let parentElement = stack[stack.length - 1]\r\n    if (tagName == currentElement.tag) {\r\n      if (parentElement) {\r\n        parentElement.children.push(currentElement)\r\n        currentElement.parent = parentElement\r\n      }\r\n    }\r\n  }\r\n  function chars(text) {\r\n    text = text.replace(/\\s/g, '')\r\n    if (text) {\r\n      currParent.children.push({\r\n        type: TEXT_TYPE,\r\n        text\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  return root\r\n}\r\n\r\n\r\n\r\n","\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g  // 匹配插值语法\r\n\r\nfunction geneProps(attrs) {\r\n  let props = `` \r\n  attrs.forEach(attr => { // 遍历当前节点的属性list  {id:'app',class:'classA',style: {font-size: '14px',color:'red'}}\r\n    if(attr.name === 'style') { // 如果当前属性item的name为style {font-size: '14px';color:'red'}\r\n      let obj = {} // 定义空对象\r\n      // console.log(attr.value);\r\n      attr.value.split(';').forEach(styleItem => {   // 拿到当前value进行split  [font-size: '14px',color:'red']\r\n        let [key,value] = styleItem.split(':') // [key: 'font-size',value: '14px']  [key: 'color',value: 'red']\r\n        obj[key] = `${value}` // obj = {font-size: '14px',color: 'red'}\r\n      })\r\n      attr.value = obj // attr.style = {font-size: '14px',color: 'red'}\r\n    }\r\n    props += `${attr.name}:${JSON.stringify(attr.value)},` // 如果name不是style,直接拼:props = id:'app',class:'classA',style:{font-size: '14px';color:'red'}\r\n  })\r\n  return `{${props.slice(0,-1)}}` // return {id:'app',class:'classA',style:{font-size: '14px';color:'red'}}\r\n}\r\n\r\nfunction gen(node) {\r\n  if(node.type == 1){ // 如果当前节点为为标签节点  递归调用generate方法\r\n    return generate(node)\r\n  }else { // 如果是文本节点\r\n    let text = node.text // 获取文本内容\r\n    let tokens = []; // 定义空数组 方便依次递加\r\n    let match;\r\n    let lastIndex = defaultTagRE.lastIndex = 0 // defaultTagRE插值语法{{}} 匹配每次用exec匹配时候默认最后一次匹配项为0\r\n    while(match = defaultTagRE.exec(text)){ // while循环去匹配当前text = \"hello  {{name}}  word\"\r\n      let index = match.index //开始索引 第一次匹配到的index  hello  的长度\r\n      if(index > lastIndex) { // 将hello  push到tokens中\r\n        tokens.push(JSON.stringify(text.slice(lastIndex,index))) // 截取普通字符串\r\n      }\r\n      tokens.push(`_s(${match[1].trim()})`) // 截取插值语法字符串push到tokens中\r\n      lastIndex = index + match[0].length // 将当前lastIndex = hello  {{name}}的长度 循环匹配直至最后一次 \r\n    }\r\n    if(lastIndex<text.length) { // 将最后的  word push到tokens中\r\n      tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n    }\r\n    return `_v(${tokens.join('+')})` // 转为字符串return\r\n  }\r\n}\r\n\r\nfunction geneChildren(root) { \r\n  let children = root.children // 拿到当前children 判断children是否大于0 继续转化子节点 \r\n  if(children && children.length > 0) {\r\n    return children.map(c => gen(c)).join(',') \r\n  }else{\r\n    return false\r\n  }\r\n}\r\n\r\nexport function generate(root) { // 传入ast语法树\r\nlet children = geneChildren(root) // 转化当前传入的root.children\r\n  //  geneProps(root.attrs) 转化 当前节点的属性\r\n  let code = `_c('${root.tag}',${root.attrs.length > 0 ? geneProps(root.attrs) : undefined}${children ? `,${children}` : ''})`\r\n  return code\r\n}","\r\nimport { parserHtml } from \"./parseHtml\"\r\nimport { generate } from \"./generate\";\r\nexport function compileToFunction(template) {\r\n  let root = parserHtml(template) // 编译模板字符串 转为 ast语法\r\n  let code = generate(root)\r\n  let render = new Function(`with(this){ return ${code}}`)\r\n  // console.log(render.call(vm));\r\n\r\n  return render\r\n}\r\n// vue2 模板编译的顺序\r\n// template模板 通过正则while匹配 匹配成ast语法（组合成树）\r\n// ast => 递归遍历每个节点  编译成code字符串 _c('div',{id: 'app'},_c(span,undefined,_v('hello'+ _s(name) + 'world')))\r\n// 生成render函数（new Function + with）\r\n// return  render函数 通过.call调用 指定with参数this \r\n\r\n\r\n\r\n// let obj = {name:'sau3n'}\r\n// with(obj) {\r\n//   console.log(name);\r\n// }","\r\nexport function patch(oldElm, vnode) {\r\n  const isRealDom = oldElm && oldElm.nodeType\r\n  if (isRealDom) {\r\n    let el = createElm(vnode) // 根据虚拟节点创建真实节点\r\n    let parentElm = oldElm.parentNode // 拿去旧节点的父节点 body\r\n    parentElm.insertBefore(el, oldElm.nextSibling) // 在旧节点的下一个节点钱插入编译好的真实节点\r\n    parentElm.removeChild(oldElm);  // 移除旧的节点 进行模板替换\r\n    return el  // 将渲染好的真实节点返回\r\n  } else {\r\n    if (oldElm.tagName !== vnode.tagName) { // 如果根节点名称不同，根据新的虚拟节点创建真实dom替换旧的真实dom\r\n      document.body.replaceChild(createElm(vnode), oldElm.el)\r\n    }\r\n\r\n    if (!oldElm.tagName) { // 如果旧节点没有节点名称，代表为文本节点 判断新旧节点文本内容是否相同 如果不同进行替换\r\n      if (oldElm.text !== vnode.text) {\r\n        oldElm.el.textContent = vnode.text\r\n      }\r\n    }\r\n    // 新虚拟节点的el属性指向旧节点的真实dom\r\n    let el = vnode.el = oldElm.el\r\n    // 如果节点名称相同 更新节点属性\r\n    updateProps(vnode, oldElm.data) // 更新完属性后 进行对对比子节点\r\n\r\n    let oldChildren = oldElm.children || []// 旧虚拟节点的孩子属性\r\n    let newChildren = vnode.children || []// 新虚拟节点的孩子属性\r\n    if (oldChildren.length > 0 && newChildren.length > 0) { // 如果 新旧孩子节点都大于0  对比孩子节点\r\n      patchChildren(el, oldChildren, newChildren)\r\n    } else if (oldChildren.length > 0) { // 如果旧孩子节点大于0 新节点为空，对el真实dom 移除子节点\r\n      oldChildren.forEach(i => {\r\n        el.removeChild(i.el)\r\n      })\r\n    } else if (newChildren.length > 0) { // 如果新孩子节点大于0 旧节点为空，对el真实dom 添加子节点\r\n      newChildren.forEach(i => {\r\n        el.appendChild(createElm(i))\r\n      })\r\n    }\r\n    return el\r\n  }\r\n}\r\nfunction isSameTag(oldVnode, newVnode) {\r\n  return oldVnode.tagName == newVnode.tagName && oldVnode.key == newVnode.key\r\n}\r\n\r\nfunction makeChildrenMap(children) {\r\n  let map = {}\r\n  children.forEach((item, index) => {\r\n    map[item.key] = index\r\n  })\r\n  return map\r\n}\r\n\r\nfunction patchChildren(parent, oldChildren, newChildren) {\r\n  let oldStartIndex = 0\r\n  let oldStartVnode = oldChildren[0]\r\n  let oldEndIndex = oldChildren.length - 1\r\n  let oldEndVnode = oldChildren[oldEndIndex]\r\n\r\n  let newStartIndex = 0\r\n  let newStartVnode = newChildren[0]\r\n  let newEndIndex = newChildren.length - 1\r\n  let newEndVnode = newChildren[newEndIndex]\r\n\r\n  let map = makeChildrenMap(oldChildren)\r\n\r\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\r\n    if (oldStartVnode == null) {\r\n      oldStartVnode = oldChildren[++oldStartIndex]\r\n    } else if (oldEndIndex == null) {\r\n      oldEndVnode = oldChildren[--oldEndIndex]\r\n    } else if (isSameTag(oldStartVnode, newStartVnode)) {\r\n      patch(oldStartVnode, newStartVnode)\r\n      oldStartVnode = oldChildren[++oldStartIndex]\r\n      newStartVnode = newChildren[++newStartIndex]\r\n    } else if (isSameTag(oldEndVnode, newEndVnode)) {\r\n      patch(oldEndVnode, newEndVnode)\r\n      oldEndVnode = oldChildren[--oldEndIndex]\r\n      newEndVnode = newChildren[--newEndIndex]\r\n    } else if (isSameTag(oldEndVnode, newStartVnode)) {\r\n      patch(oldEndVnode, newStartVnode)\r\n      parent.insertBefore(oldEndVnode.el, oldStartVnode.el)\r\n      oldEndVnode = oldChildren[--oldEndIndex]\r\n      newStartVnode = newChildren[++newStartIndex]\r\n    } else if (isSameTag(oldStartVnode, newEndVnode)) {\r\n      patch(oldStartVnode, newEndVnode)\r\n      parent.insertBefore(oldStartVnode.el, oldEndVnode.el.nextSibling)\r\n      oldStartVnode = oldChildren[++oldStartIndex]\r\n      newEndVnode = newChildren[--newEndIndex]\r\n    } else {\r\n      let moveIndex = map[newStartVnode.key]\r\n      if (moveIndex) {\r\n        let moveVnode = oldChildren[moveIndex]\r\n        parent.insertBefore(moveVnode.el, oldStartVnode.el)\r\n        oldChildren[moveIndex] = null\r\n        patch(moveVnode, newStartVnode)\r\n      } else {\r\n        parent.insertBefore(createElm(newStartVnode), oldStartVnode.el)\r\n      }\r\n      newStartVnode = newChildren[++newStartIndex]\r\n    }\r\n\r\n  }\r\n\r\n  if (newStartIndex <= newEndIndex) {\r\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\r\n      let nextEndVnode = newChildren[newEndIndex + 1]\r\n      let nextNode = nextEndVnode ? newChildren[newEndIndex + 1].el : null\r\n      parent.insertBefore(createElm(newChildren[i]), nextNode)\r\n    }\r\n  }\r\n\r\n  if (oldStartIndex <= oldEndIndex) {\r\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\r\n      parent.removeChild(oldChildren[i].el)\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\nexport function createElm(vnode) {\r\n  const { tagName, data, key, children, text } = vnode\r\n  if (tagName) { // 如果是元素节点\r\n    vnode.el = document.createElement(tagName) // 创建元素节点\r\n    updateProps(vnode) // 更新当前节点的属性\r\n    if (children && children.length > 0) { // 判断当前节点是否有子节点\r\n      children.forEach(child => { // 遍历子节点\r\n        return vnode.el.appendChild(createElm(child)) //将子节点添加到父节点上\r\n      })\r\n    }\r\n  } else { // 如果是文本节点\r\n    vnode.el = document.createTextNode(text) // 返回文本节点\r\n  }\r\n  return vnode.el // 返回当前编译好的当前元素节点 用于添加子节点 最后将编译好的根节点返回\r\n}\r\n\r\nfunction updateProps(vnode, data = {}) { // 更新当前节点的属性\r\n  const el = vnode.el // 拿取旧节点的真实节点 新旧虚拟节点el属性都指向当前el\r\n  const attrs = vnode.data || {} // 获取新虚拟节点的的属性\r\n  const oldAttrs = data // 获取旧节点的属性\r\n\r\n  const style = attrs.style || {} // 获取新虚拟节点的style属性 默认为空\r\n  const oldStyle = oldAttrs.style || {} // 获取旧虚拟节点的style属性 默认为空\r\n  for (const key in oldStyle) { // 遍历旧虚拟节点的style属性key 判断key是否存在新虚拟节点的style属性中\r\n    if (!style[key]) { // 如果不在 直接通过 el真实dom赋值当前style属性的key为空\r\n      el.style[key] = \"\"\r\n    }\r\n  }\r\n\r\n  for (const key in oldAttrs) { // 同理 获取旧节点的属性 进行遍历 判断新节点是否有该属性\r\n    if (!attrs[key]) { // 如果没有 el真实dom 移除改属性\r\n      el.removeAttribute(key)\r\n    }\r\n  }\r\n  for (const key in attrs) { // 遍历新节点的属性 依次对真实节点的样式、class、及其他属性进行赋值\r\n    if (Object.hasOwnProperty.call(attrs, key)) {\r\n      if (key === 'style') { // 如果当前属性key为style\r\n        for (const key in attrs.style) { // 遍历style对象\r\n          el.style[key] = attrs.style[key] // 给当前真实节点添加样式\r\n        }\r\n      } else if (key === 'class') { // 如果当前key是class 给当前真实节点添加class\r\n        el.className = attrs.class\r\n      } else {\r\n        el.setAttribute(key, attrs[key]) // 设置其他属性比如 a:1 <div a=\"1\">\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// 首先 判断 旧的虚拟节点是否为元素节点 nodeType\r\n// 如果是元素节点代表是真实的dom 需要进行渲染操作\r\n// 递归遍历虚拟节点 创建真实节点 在这一过程中将虚拟节点的data属性 挂载到生成真实dom节点的属性上","\r\nimport { Watcher } from \"./observer/watcher\";\r\nimport { patch } from \"./vdom/patch\";\r\nimport { nextTick } from './next-tick'\r\nimport { callHook } from \"./init\";\r\nexport function lifecycleMixin(Vue) {\r\n  Vue.prototype._update = function (vnode) { // 混入_update更新界面的方法 接收参数（执行render函数后生成的对象）\r\n    let vm = this\r\n    let preVnode = vm.vnode\r\n    vm.vnode = vnode\r\n    if(preVnode) {\r\n      vm.$el = patch(preVnode, vnode)\r\n    }else {\r\n      vm.$el = patch(vm.$el, vnode); // 需要用虚拟节点创建出真实节点 替换掉 真实的$el\r\n      // 我要通过虚拟节点 渲染出真实的dom\r\n    }\r\n \r\n\r\n  },\r\n\r\n    Vue.prototype.$nextTick = nextTick\r\n}\r\n\r\n// 后续可能还会调用此函数 数据刷新更新界面\r\nexport function mountComponent(vm, el) {\r\n  const options = vm.$options\r\n  vm.$el = el\r\n  let updateComponent = () => {\r\n    vm._update(vm._render())\r\n  }\r\n\r\n  // updateComponent()\r\n  callHook(vm,'beforeMount')\r\n  new Watcher(vm, updateComponent, () => {\r\n    console.log('更新界面');\r\n  }, true)\r\n\r\n}\r\n\r\n//  在数据劫持的过程中所有的数据绑定对应dep \r\n// 需要将数据和页面进行关联起来，数据发生变化自动进行更新视图，调用渲染函数 mountComponent\r\n// 创建观察者模式，属性是“被观察者” 渲染函数是“观察者”，当被观察者发生改变，观察者执行对应操作\r\n// Watcher 创建一个类的实例  是观察者\r\n  // 参数1：传入被观测的数据，\r\n  // 参数2：被观察者发生变化后执行观察者的操作\r\n  // 参数3：用户自定义的回调函数，执行完观察者的操作后悔调用回调函数\r\n  // 参数4：配置参数，如果是渲染watcher 配置参数默认为true\r\n","import { initState } from \"./state\"\r\nimport { compileToFunction } from \"./compiler/index\"\r\nimport { mountComponent } from \"./lifecycle\"\r\nimport { mergeOptions } from \"./utils\"\r\n\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function(options) {\r\n    const vm = this // 缓存this 保存到当前作用域\r\n    // vm.$options = options  // 将选项保存到实例的$options\r\n    vm.$options = mergeOptions(vm.constructor.options,options) // 将用户传入的options和实例本身进行合并\r\n                                                              // 比如使用时在外部调用了Vue.mixin方法全局混入要和实例进行合并\r\n                                                              // 这里用vm.constructor.options的原因 是因为有可能当前调用_init方法的是继承的形式  Vue.extend\r\n    callHook(vm,'beforeCreate')\r\n    initState(vm) // 对数据进行初始化 比如 data  computed watch ...\r\n    callHook(vm,'created')\r\n    if(vm.$options.el){\r\n      vm.$mount(vm.$options.el) // 挂载界面，如果当前配置项有el属性，传入当前el\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function(el) {\r\n    const vm = this\r\n    let options = vm.$options\r\n    el = document.querySelector(el)\r\n    if(!options.render) { // render配置项高于el\r\n      let template = options.template\r\n      if(!template && el) { // 判断配置项是否有template属性  如果没有就拿el的outerHTML\r\n        template = el.outerHTML // 模板字符串  之后通过正则进行匹配 将模板字符串转为render渲染函数\r\n        let render = compileToFunction(template) // 拿到render函数\r\n        options.render = render // 挂载到配置项中，以后数据发生变化 可以通过配置项直接执行渲染函数\r\n      }\r\n    }\r\n    mountComponent(vm,el) // 拿到render函数后 渲染界面\r\n  }\r\n\r\n}\r\n\r\n\r\nexport function callHook(vm,key) {\r\n  let handlers = vm.$options[key]\r\n  if(handlers) {\r\n    handlers.forEach(hook => {\r\n      hook.call(vm)\r\n    })\r\n  }\r\n}\r\n","export function createElementNode(tagName,data = {},...children) { // 编译节点 最终返回一个对象\r\n  let key = data.key\r\n  if(key) {\r\n    delete data.key\r\n  }\r\n  return vnode(tagName,data,key,children,undefined)\r\n}\r\n\r\nexport function createTextNode(text) { // 翻译文本内容\r\n  return vnode(undefined,undefined,undefined,undefined,text)\r\n}\r\n\r\nfunction vnode(tagName, data, key, children, text) { // 节点名称  节点属性 节点key 子节点  文本内容\r\n  return {\r\n    tagName, data, key, children, text\r\n  }\r\n}","import { createTextNode, createElementNode } from \"./vdom/create-vdom\"\r\n\r\n//  Vue原型混入 _c _v  _s 方法执行render函数时会用到。\r\n\r\nexport function renderMixin(Vue) {\r\n  Vue.prototype._c = function () { // 编译元素节点\r\n    return createElementNode(...arguments)\r\n  }\r\n\r\n  Vue.prototype._v = function (text) {  // 编译文本节点\r\n    return createTextNode(text)\r\n  }\r\n\r\n  Vue.prototype._s = function (val) { // 编译插值语法 \r\n    return val === null ? '' : (typeof val === 'object' ? JSON.stringify(val) : val); // 如果取到当前值是对象 需要stringify转化\r\n  }\r\n\r\n  Vue.prototype._render = function () {\r\n    let render = this.$options.render // 拿到配置对象中的render方法 \r\n    return render.call(this) // 调用 render方法 this指向当前实例  返回执行render函数后 产生的一个对象\r\n  }\r\n}\r\n\r\n//  _c('div',{id:\"app\",class:\"warp\",style:{\"font-size\":\" 16px\",\"color\":\"red\"}},_c('span',undefined,_v(\"hello\"+_s(name)+\"word\")),_c('ul',undefined,_c('li',undefined,_v(_s(person.name))),_c('li',undefined,_v(_s(person.age)))))}","import { globalApi } from './global-api/index'\r\nimport {initMixin} from './init'\r\nimport { lifecycleMixin } from './lifecycle'\r\nimport {renderMixin} from './render'\r\nimport {stateMixin} from './state'\r\nimport {compileToFunction} from './compiler/index'\r\nimport {createElm,patch} from './vdom/patch'\r\nfunction Vue (options) { \r\n  // options 用户传入的选项\r\n  this._init(options) // 根据选项进行初始化\r\n}\r\n\r\ninitMixin(Vue) // 给Vue的原型添加_init的方法，传入Vue\r\nrenderMixin(Vue) // 给Vue原型添加_c _v _s _render 方法\r\nstateMixin(Vue)\r\nglobalApi(Vue) // 全局api\r\nlifecycleMixin(Vue)\r\n\r\n\r\n// let vm1 = new Vue({\r\n//   data: {\r\n//     name: 'susa3n',\r\n//     age: 11\r\n//   }\r\n// });\r\n// let render1 = compileToFunction(`<div style=\"color:red\">\r\n// <li key=\"A\">A</li>\r\n// <li key=\"B\">B</li>\r\n// <li key=\"C\">C</li>\r\n// <li key=\"D\">D</li>\r\n// </div>`)\r\n// let vnode1 = render1.call(vm1)\r\n// let realNode = createElm(vnode1)\r\n// document.body.appendChild(realNode)\r\n\r\n\r\n// let vm2 = new Vue({\r\n//   data: {\r\n//     name: 'zf',\r\n//     age: 11\r\n//   }\r\n// });\r\n// let render2 = compileToFunction(`<div id='a'>\r\n// <li key=\"B\">B</li>\r\n// <li key=\"A\">A</li>\r\n// <li key=\"D\">D</li>\r\n// <li key=\"C\">C</li>\r\n// </div>`);\r\n// let vnode2 = render2.call(vm2);\r\n// setTimeout(() => {\r\n//   patch(vnode1, vnode2); // 传入两个虚拟节点 会在内部进行比对\r\n// }, 3000);\r\n\r\n\r\n\r\n\r\n\r\nexport default Vue"],"names":["isFunction","value","isObject","lifecycle","strategy","mergeHook","parentVal","childVal","concat","forEach","key","mergeOptions","parent","child","options","mergeFiled","hasOwnProperty","globalApi","Vue","mixin","oldMethods","Array","prototype","arrayMethods","Object","create","methods","method","args","call","inserted","ob","__ob__","slice","observerArray","dep","notify","id","Dep","sub","target","append","watcher","push","update","stack","pushTarget","popTarget","pop","length","Observer","data","defineProperty","enumerable","isArray","__proto__","walk","i","observe","keys","defineReactive","observeArray","currentValue","childOb","get","set","newValue","callbacks","waiting","flushCallbacks","cb","timerFn","timer","Promise","resolve","then","MutationObserver","textNode","document","createTextNode","characterData","textContent","setTimeout","nextTick","queue","has","pending","flushSchedulerQueue","run","queueWatcher","Watcher","vm","exprOrFn","user","lazy","dirty","getter","obj","split","deps","depIds","Set","undefined","add","addSub","oldValue","initState","opts","$options","initData","computed","initComputed","watch","initWatch","_data","proxy","watchers","_computedWatchers","userDef","deReactiveComputed","createComputedGetter","computedWatcher","evaluate","depend","shareComputedFn","handler","handlerFn","createWatch","$watch","source","stateMixin","userWatcher","immediate","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","ELEMENT_TYPE","TEXT_TYPE","parserHtml","html","root","currParent","textEnd","indexOf","startTagMatch","parseStartTag","start","tagName","attrs","endTagMatch","parseEndTag","end","text","substring","chars","advance","match","attr","name","len","createElement","type","tag","children","tagAttrs","element","currentElement","parentElement","replace","defaultTagRE","geneProps","props","styleItem","JSON","stringify","gen","node","generate","tokens","lastIndex","exec","index","trim","join","geneChildren","map","c","code","compileToFunction","template","render","Function","patch","oldElm","vnode","isRealDom","nodeType","el","createElm","parentElm","parentNode","insertBefore","nextSibling","removeChild","body","replaceChild","updateProps","oldChildren","newChildren","patchChildren","appendChild","isSameTag","oldVnode","newVnode","makeChildrenMap","item","oldStartIndex","oldStartVnode","oldEndIndex","oldEndVnode","newStartIndex","newStartVnode","newEndIndex","newEndVnode","moveIndex","moveVnode","nextEndVnode","nextNode","oldAttrs","style","oldStyle","removeAttribute","className","setAttribute","lifecycleMixin","_update","preVnode","$el","$nextTick","mountComponent","updateComponent","_render","callHook","console","log","initMixin","_init","constructor","$mount","querySelector","outerHTML","handlers","hook","createElementNode","renderMixin","_c","arguments","_v","_s","val"],"mappings":"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"}